object Form_get_pay_nal: TForm_get_pay_nal
  Left = 1259
  Top = 289
  Width = 635
  Height = 404
  BorderIcons = [biSystemMenu, biMinimize]
  Caption = #1042#1074#1086#1076' '#1086#1087#1083#1072#1090#1099
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'MS Sans Serif'
  Font.Style = []
  FormStyle = fsMDIChild
  Icon.Data = {
    0000010001002020080000000000A80800001600000028000000200000004000
    0000010008000000000000040000000000000000000000000000000000000000
    00004000000080000000FF000000002000004020000080200000FF2000000040
    00004040000080400000FF400000006000004060000080600000FF6000000080
    00004080000080800000FF80000000A0000040A0000080A00000FFA0000000C0
    000040C0000080C00000FFC0000000FF000040FF000080FF0000FFFF00000000
    20004000200080002000FF002000002020004020200080202000FF2020000040
    20004040200080402000FF402000006020004060200080602000FF6020000080
    20004080200080802000FF80200000A0200040A0200080A02000FFA0200000C0
    200040C0200080C02000FFC0200000FF200040FF200080FF2000FFFF20000000
    40004000400080004000FF004000002040004020400080204000FF2040000040
    40004040400080404000FF404000006040004060400080604000FF6040000080
    40004080400080804000FF80400000A0400040A0400080A04000FFA0400000C0
    400040C0400080C04000FFC0400000FF400040FF400080FF4000FFFF40000000
    60004000600080006000FF006000002060004020600080206000FF2060000040
    60004040600080406000FF406000006060004060600080606000FF6060000080
    60004080600080806000FF80600000A0600040A0600080A06000FFA0600000C0
    600040C0600080C06000FFC0600000FF600040FF600080FF6000FFFF60000000
    80004000800080008000FF008000002080004020800080208000FF2080000040
    80004040800080408000FF408000006080004060800080608000FF6080000080
    80004080800080808000FF80800000A0800040A0800080A08000FFA0800000C0
    800040C0800080C08000FFC0800000FF800040FF800080FF8000FFFF80000000
    A0004000A0008000A000FF00A0000020A0004020A0008020A000FF20A0000040
    A0004040A0008040A000FF40A0000060A0004060A0008060A000FF60A0000080
    A0004080A0008080A000FF80A00000A0A00040A0A00080A0A000FFA0A00000C0
    A00040C0A00080C0A000FFC0A00000FFA00040FFA00080FFA000FFFFA0000000
    C0004000C0008000C000FF00C0000020C0004020C0008020C000FF20C0000040
    C0004040C0008040C000FF40C0000060C0004060C0008060C000FF60C0000080
    C0004080C0008080C000FF80C00000A0C00040A0C00080A0C000FFA0C00000C0
    C00040C0C00080C0C000FFC0C00000FFC00040FFC00080FFC000FFFFC0000000
    FF004000FF008000FF00FF00FF000020FF004020FF008020FF00FF20FF000040
    FF004040FF008040FF00FF40FF000060FF004060FF008060FF00FF60FF000080
    FF004080FF008080FF00FF80FF0000A0FF0040A0FF0080A0FF00FFA0FF0000C0
    FF0040C0FF0080C0FF00FFC0FF0000FFFF0040FFFF0080FFFF00FFFFFF000000
    0000000000000000000000000000000000000000000000000000000000000092
    92929292929292929292929292929292929292929292929292929292920000FF
    92929292929292929292929292929292929292929292929292929292920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDB92920000FF
    FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBFFFFDBDBDBDBDBDBFFFFDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDB00FFDBDBDB00DBDB00FFDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDB00FFFF00DBDBDBDB00FFFFDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB00FFDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB00FFFFDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB0000FFDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB0000FFDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF92920000FF
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF92000000
    0000000000000000000000000000000000000000000000000000000000008000
    0001000000000000000000000000000000000000000000000000000000000000
    0000000000000000000000000000000000000000000000000000000000000000
    0000000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000080000001}
  KeyPreview = True
  OldCreateOrder = False
  Position = poMainFormCenter
  Scaled = False
  Visible = True
  OnClose = FormClose
  OnCreate = FormCreate
  OnKeyDown = FormKeyDown
  PixelsPerInch = 96
  TextHeight = 13
  object GroupBox1: TGroupBox
    Left = 0
    Top = 25
    Width = 619
    Height = 41
    Align = alTop
    TabOrder = 0
    object Label1: TLabel
      Left = 8
      Top = 17
      Width = 26
      Height = 16
      Caption = #1051'/C'
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object Label2: TLabel
      Left = 163
      Top = 14
      Width = 29
      Height = 16
      Caption = #1040#1076#1088
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object wwDBEdit3: TwwDBEdit
      Left = 38
      Top = 11
      Width = 107
      Height = 24
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      Picture.PictureMask = '[#][#][#][#][#][#][#][#]'
      TabOrder = 0
      UnboundDataType = wwDefault
      WantReturns = False
      WordWrap = False
      OnDblClick = wwDBEdit3DblClick
      OnKeyPress = wwDBEdit3KeyPress
    end
    object Edit1: TEdit
      Left = 208
      Top = 11
      Width = 417
      Height = 24
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      ReadOnly = True
      TabOrder = 1
    end
  end
  object GroupBox2: TGroupBox
    Left = 0
    Top = 303
    Width = 619
    Height = 42
    Align = alBottom
    TabOrder = 1
    DesignSize = (
      619
      42)
    object Label3: TLabel
      Left = 162
      Top = 16
      Width = 75
      Height = 16
      Caption = #1055#1086#1083#1091#1095#1077#1085#1086
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object Label4: TLabel
      Left = 352
      Top = 15
      Width = 47
      Height = 16
      Caption = #1057#1076#1072#1095#1072
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object Label5: TLabel
      Left = 3
      Top = 16
      Width = 45
      Height = 16
      Caption = #1048#1090#1086#1075#1086
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object wwDBEdit1: TwwDBEdit
      Left = 240
      Top = 8
      Width = 105
      Height = 24
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      Picture.PictureMask = '[-][#][#][#][#][#][#][.][#][#]'
      TabOrder = 0
      UnboundDataType = wwDefault
      WantReturns = False
      WordWrap = False
      OnKeyPress = wwDBEdit1KeyPress
    end
    object wwDBEdit2: TwwDBEdit
      Left = 408
      Top = 8
      Width = 113
      Height = 24
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      Picture.PictureMask = '[-][#][#][#][#][#][#][.][#][#]'
      ReadOnly = True
      TabOrder = 1
      UnboundDataType = wwDefault
      WantReturns = False
      WordWrap = False
    end
    object wwDBEdit4: TwwDBEdit
      Left = 51
      Top = 9
      Width = 102
      Height = 24
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      Picture.PictureMask = '[-][#][#][#][#][#][#][.][#][#]'
      ReadOnly = True
      TabOrder = 2
      UnboundDataType = wwDefault
      WantReturns = False
      WordWrap = False
      OnKeyPress = wwDBEdit4KeyPress
    end
    object Button1: TButton
      Left = 527
      Top = 11
      Width = 80
      Height = 25
      Anchors = [akRight, akBottom]
      Caption = #1042#1074#1086#1076
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -15
      Font.Name = 'MS Sans Serif'
      Font.Style = []
      ParentFont = False
      TabOrder = 3
      OnClick = Button1Click
    end
  end
  object StatusBar1: TStatusBar
    Left = 0
    Top = 345
    Width = 619
    Height = 20
    Panels = <>
    OnDblClick = StatusBar1DblClick
  end
  object ToolBar1: TToolBar
    Left = 0
    Top = 0
    Width = 619
    Height = 25
    AutoSize = True
    ButtonHeight = 21
    ButtonWidth = 74
    Caption = 'ToolBar1'
    ParentShowHint = False
    ShowCaptions = True
    ShowHint = True
    TabOrder = 3
    object ToolButton3: TToolButton
      Left = 0
      Top = 2
      Caption = 'F10-'#1055#1086#1080#1089#1082
      ImageIndex = 1
    end
    object ToolButton2: TToolButton
      Left = 74
      Top = 2
      Caption = 'F11-'#1047#1072#1076#1086#1083#1078'.'
      ImageIndex = 1
      OnClick = ToolButton2Click
    end
    object ToolButton1: TToolButton
      Left = 148
      Top = 2
      Caption = 'F12-'#1057#1095#1077#1090#1095#1080#1082#1080
      ImageIndex = 0
      OnClick = ToolButton1Click
    end
  end
  object PageControl1: TPageControl
    Left = 0
    Top = 66
    Width = 619
    Height = 237
    ActivePage = TabSheet1
    Align = alClient
    TabOrder = 4
    object TabSheet1: TTabSheet
      object DBGridEh1: TDBGridEh
        Left = 0
        Top = 0
        Width = 611
        Height = 209
        Align = alClient
        ColumnDefValues.AlwaysShowEditButton = True
        ColumnDefValues.AutoDropDown = True
        DataSource = DS_c_kwtp_temp
        Flat = False
        Font.Charset = DEFAULT_CHARSET
        Font.Color = clWindowText
        Font.Height = -15
        Font.Name = 'MS Sans Serif'
        Font.Style = []
        FooterColor = clWindow
        FooterFont.Charset = DEFAULT_CHARSET
        FooterFont.Color = clWindowText
        FooterFont.Height = -11
        FooterFont.Name = 'MS Sans Serif'
        FooterFont.Style = []
        FooterRowCount = 1
        OptionsEh = [dghFixed3D, dghHighlightFocus, dghClearSelection, dghEnterAsTab, dghDialogFind]
        ParentFont = False
        PopupMenu = PopupMenu1
        SumList.Active = True
        TabOrder = 0
        TitleFont.Charset = DEFAULT_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -15
        TitleFont.Name = 'MS Sans Serif'
        TitleFont.Style = []
        OnColEnter = DBGridEh1ColEnter
        OnColExit = DBGridEh1ColExit
        OnKeyDown = DBGridEh1KeyDown
        Columns = <
          item
            EditButtons = <>
            FieldName = 'oper_name'
            Footers = <>
          end
          item
            EditButtons = <>
            FieldName = 'SUMMA'
            Footer.FieldName = 'SUMMA'
            Footer.ValueType = fvtSum
            Footers = <>
          end
          item
            ButtonStyle = cbsEllipsis
            EditButtons = <>
            FieldName = 'PENYA'
            Footer.ValueType = fvtSum
            Footers = <>
            Title.Caption = #1055#1077#1085#1103
          end
          item
            EditButtons = <>
            FieldName = 'ITOG'
            Footer.ValueType = fvtSum
            Footers = <>
            ReadOnly = True
            Title.Caption = #1048#1090#1086#1075#1086
          end
          item
            EditButtons = <>
            FieldName = 'CNT_SCH0'
            Footers = <>
            ReadOnly = True
            Width = 81
          end
          item
            EditButtons = <>
            FieldName = 'CNT_SCH'
            Footers = <>
            ReadOnly = True
            Width = 77
          end>
      end
    end
    object TabSheet2: TTabSheet
      Caption = '2'
      ImageIndex = 1
      object cxGrid1: TcxGrid
        Left = 0
        Top = 0
        Width = 611
        Height = 209
        Align = alClient
        TabOrder = 0
        object cxGrid1DBTableView1: TcxGridDBTableView
          Navigator.Buttons.CustomButtons = <>
          DataController.DataSource = DS_chargepay
          DataController.Summary.DefaultGroupSummaryItems = <>
          DataController.Summary.FooterSummaryItems = <
            item
              Kind = skSum
              Column = cxGrid1DBTableView1SUMMA
            end
            item
              Kind = skSum
              Column = cxGrid1DBTableView1SUMMA2
            end
            item
              Kind = skSum
              Column = cxGrid1DBTableView1PENYA
            end
            item
              Kind = skSum
              Column = cxGrid1DBTableView1PENYA2
            end>
          DataController.Summary.SummaryGroups = <>
          OptionsView.Footer = True
          OptionsView.GroupByBox = False
          OptionsView.GroupFooterMultiSummaries = True
          object cxGrid1DBTableView1SUMMA: TcxGridDBColumn
            DataBinding.FieldName = 'SUMMA'
          end
          object cxGrid1DBTableView1SUMMA2: TcxGridDBColumn
            DataBinding.FieldName = 'SUMMA2'
          end
          object cxGrid1DBTableView1PENYA: TcxGridDBColumn
            DataBinding.FieldName = 'PENYA'
          end
          object cxGrid1DBTableView1PENYA2: TcxGridDBColumn
            DataBinding.FieldName = 'PENYA2'
          end
          object cxGrid1DBTableView1MG: TcxGridDBColumn
            DataBinding.FieldName = 'MG'
          end
          object cxGrid1DBTableView1CHARGE: TcxGridDBColumn
            DataBinding.FieldName = 'CHARGE'
          end
          object cxGrid1DBTableView1PAYMENT: TcxGridDBColumn
            DataBinding.FieldName = 'PAYMENT'
          end
          object cxGrid1DBTableView1SAL: TcxGridDBColumn
            DataBinding.FieldName = 'SAL'
          end
          object cxGrid1DBTableView1ITOG: TcxGridDBColumn
            DataBinding.FieldName = 'ITOG'
          end
          object cxGrid1DBTableView1LSK: TcxGridDBColumn
            DataBinding.FieldName = 'LSK'
          end
          object cxGrid1DBTableView1LSK_TP: TcxGridDBColumn
            DataBinding.FieldName = 'LSK_TP'
          end
          object cxGrid1DBTableView1USL_NAME_SHORT: TcxGridDBColumn
            DataBinding.FieldName = 'USL_NAME_SHORT'
          end
        end
        object cxGrid1Level1: TcxGridLevel
          GridView = cxGrid1DBTableView1
        end
      end
    end
  end
  object OD_c_kwtp_temp: TOracleDataSet
    SQL.Strings = (
      'select t.*, t.rowid '
      'from scott.c_kwtp_temp t'
      '')
    Optimize = False
    OracleDictionary.UseMessageTable = True
    QBEDefinition.QBEFieldDefs = {
      04000000060000000500000053554D4D410100000000000500000050454E5941
      010000000000040000004F50455201000000000007000000434E545F53434801
      000000000008000000434E545F534348300100000000000400000049544F4701
      0000000000}
    MasterFields = 'OPER'
    DetailFields = 'OPER'
    CommitOnPost = False
    Session = DataModule1.OracleSession1
    Left = 40
    Top = 152
    object OD_c_kwtp_tempoper_name: TStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      DisplayWidth = 25
      FieldKind = fkLookup
      FieldName = 'oper_name'
      LookupDataSet = OD_oper
      LookupKeyFields = 'OPER'
      LookupResultField = 'NAIM'
      KeyFields = 'OPER'
      Lookup = True
    end
    object OD_c_kwtp_tempCNT_SCH: TFloatField
      DisplayLabel = #1057#1095#1077#1090#1095#1080#1082' '#1087#1086#1089#1083#1077
      DisplayWidth = 10
      FieldName = 'CNT_SCH'
    end
    object OD_c_kwtp_tempCNT_SCH2: TFloatField
      DisplayLabel = #1057#1095#1077#1090#1095#1080#1082' '#1076#1086
      FieldName = 'CNT_SCH0'
    end
    object OD_c_kwtp_tempSUMMA: TFloatField
      DisplayLabel = #1057#1091#1084#1084#1072
      DisplayWidth = 10
      FieldName = 'SUMMA'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_c_kwtp_tempOPER: TStringField
      DisplayWidth = 7
      FieldName = 'OPER'
      Visible = False
      Size = 3
    end
    object OD_c_kwtp_tempPENYA: TFloatField
      FieldName = 'PENYA'
      Visible = False
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_c_kwtp_tempITOG: TFloatField
      FieldName = 'ITOG'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
  end
  object DS_c_kwtp_temp: TDataSource
    DataSet = OD_c_kwtp_temp
    Left = 72
    Top = 152
  end
  object OD_oper: TOracleDataSet
    SQL.Strings = (
      'select t.oper, t.oper||'#39' '#39'||t.naim as naim, t.fk_usl_chk'
      'from scott.oper t, scott.usl m'
      
        'where t.fk_org=scott.init.get_org_nkom and t.fk_usl_chk=m.usl(+)' +
        ' and'
      '((t.fk_usl is not null '
      ' --'#1077#1089#1090#1100' '#1083#1080' '#1076#1072#1085#1085#1072#1103' '#1091#1089#1083#1091#1075#1072' '#1074#1086#1086#1073#1097#1077' '#1074' '#1083'.'#1089'.'
      ' and exists (select * from scott.nabor n, scott.usl u'
      '    where n.lsk=lpad(:lsk,8,'#39'0'#39')  and n.usl=u.usl and '
      
        '    n.usl=t.fk_usl and decode(u.sptarn, 0, nvl(n.koeff,0), 1, nv' +
        'l(n.norm,0),'
      '     2, nvl(n.koeff,0)*nvl(n.norm,0)) <> 0))'
      'or'
      '(t.fk_usl is null and t.fk_usl_chk is not null and m.cd='#39#1093'.'#1074#1086#1076#1072#39
      ' --'#1077#1089#1090#1100' '#1083#1080' '#1076#1072#1085#1085#1072#1103' '#1091#1089#1083#1091#1075#1072' '#1074#1086#1086#1073#1097#1077' '#1074' '#1083'.'#1089'.'
      
        ' and exists (select * from scott.nabor n, scott.kart k, scott.us' +
        'l u  '
      
        '    where k.lsk=lpad(:lsk,8,'#39'0'#39')  and n.lsk=k.lsk and n.usl=u.us' +
        'l and '
      '    n.usl=t.fk_usl_chk and k.psch in (1,2) and'
      
        '    decode(u.sptarn, 0, nvl(n.koeff,0), 1, nvl(n.norm,0), 2, nvl' +
        '(n.koeff,0)*nvl(n.norm,0)) <> 0'
      '))'
      'or'
      '(t.fk_usl is null and t.fk_usl_chk is not null and m.cd='#39#1075'.'#1074#1086#1076#1072#39
      ' --'#1077#1089#1090#1100' '#1083#1080' '#1076#1072#1085#1085#1072#1103' '#1091#1089#1083#1091#1075#1072' '#1074#1086#1086#1073#1097#1077' '#1074' '#1083'.'#1089'.'
      
        ' and exists (select * from scott.nabor n, scott.kart k, scott.us' +
        'l u  '
      
        '    where k.lsk=lpad(:lsk,8,'#39'0'#39')  and n.lsk=k.lsk and n.usl=u.us' +
        'l and '
      '    n.usl=t.fk_usl_chk and k.psch in (1,3) and'
      
        '    decode(u.sptarn, 0, nvl(n.koeff,0), 1, nvl(n.norm,0), 2, nvl' +
        '(n.koeff,0)*nvl(n.norm,0)) <> 0'
      '))'
      'or'
      
        '(t.fk_usl is null and t.fk_usl_chk is not null and m.cd='#39#1101#1083'.'#1101#1085#1077#1088 +
        #1075'.2'#39
      ' --'#1077#1089#1090#1100' '#1083#1080' '#1076#1072#1085#1085#1072#1103' '#1091#1089#1083#1091#1075#1072' '#1074#1086#1086#1073#1097#1077' '#1074' '#1083'.'#1089'.'
      
        ' and exists (select * from scott.nabor n, scott.kart k, scott.us' +
        'l u  '
      
        '    where k.lsk=lpad(:lsk,8,'#39'0'#39')  and n.lsk=k.lsk and n.usl=u.us' +
        'l and '
      '    n.usl=t.fk_usl_chk and '
      
        '    decode(u.sptarn, 0, nvl(n.koeff,0), 1, nvl(n.norm,0), 2, nvl' +
        '(n.koeff,0)*nvl(n.norm,0)) <> 0'
      '))'
      'or'
      '(t.fk_usl is null and t.fk_usl_chk is null))'
      ' --'#1090#1086#1083#1100#1082#1086' '#1085#1072#1083#1080#1095#1085#1099#1077' '#1086#1087#1077#1088#1072#1094#1080#1080
      ' and substr(t.oigu,2,1)='#39'1'#39
      'union all'
      'select t.oper, t.oper||'#39' '#39'||t.naim as naim, t.fk_usl_chk'
      'from scott.oper t --'#1086#1087#1077#1088#1072#1094#1080#1103' '#1085#1077' '#1087#1088#1080#1089#1074#1086#1077#1085#1085#1072#1103' '#1085#1080#1082#1072#1082#1086#1081' '#1086#1088#1075#1072#1085#1080#1079#1072#1094#1080#1080
      'where t.fk_org is null'
      'order by oper')
    Optimize = False
    Variables.Data = {0300000001000000040000003A4C534B050000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000003000000040000004F504552010000000000040000004E41494D0100
      000000000A000000464B5F55534C5F43484B010000000000}
    MasterFields = 'OPER'
    DetailFields = 'OPER'
    Session = DataModule1.OracleSession1
    Left = 112
    Top = 152
    object OD_operNAIM: TStringField
      DisplayWidth = 25
      FieldName = 'NAIM'
      Size = 25
    end
    object OD_operOPER: TStringField
      DisplayWidth = 3
      FieldName = 'OPER'
      Required = True
      Visible = False
      Size = 3
    end
    object OD_operFK_USL_CHK: TStringField
      FieldName = 'FK_USL_CHK'
      Size = 3
    end
  end
  object DS_oper: TDataSource
    DataSet = OD_oper
    Left = 144
    Top = 152
  end
  object OD_chargepay: TOracleDataSet
    SQL.Strings = (
      'select t.rowid, t.lsk, t.lsk_tp, t.mg, t.charge, t.payment, '
      
        't.summa, t.penya, t.summa2, t.penya2, t.sal, t.itog, t.usl_name_' +
        'short'
      '      from scott.c_kwtp_temp_dolg t'
      '      order by t.mg, t.lsk_tp')
    Optimize = False
    QBEDefinition.QBEFieldDefs = {
      040000000C00000006000000434841524745010000000000070000005041594D
      454E54010000000000020000004D470100000000000500000053554D4D410100
      000000000300000053414C0100000000000500000050454E5941010000000000
      0400000049544F47010000000000030000004C534B010000000000060000004C
      534B5F54500100000000000E00000055534C5F4E414D455F53484F5254010000
      0000000600000053554D4D41320100000000000600000050454E594132010000
      000000}
    CommitOnPost = False
    Session = DataModule1.OracleSession1
    BeforeInsert = OD_chargepayBeforeInsert
    BeforePost = OD_chargepayBeforePost
    Left = 40
    Top = 184
    object OD_chargepaySUMMA: TFloatField
      FieldName = 'SUMMA'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepayMG: TStringField
      FieldKind = fkInternalCalc
      FieldName = 'MG'
      ReadOnly = True
      Size = 7
    end
    object OD_chargepayCHARGE: TFloatField
      FieldKind = fkInternalCalc
      FieldName = 'CHARGE'
      ReadOnly = True
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepayPAYMENT: TFloatField
      FieldKind = fkInternalCalc
      FieldName = 'PAYMENT'
      ReadOnly = True
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepaySAL: TFloatField
      FieldName = 'SAL'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepayPENYA: TFloatField
      FieldName = 'PENYA'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepayITOG: TFloatField
      FieldName = 'ITOG'
      DisplayFormat = '### ### ### ##0.00'
      EditFormat = '###########0.00'
    end
    object OD_chargepayLSK: TStringField
      FieldName = 'LSK'
      Size = 8
    end
    object OD_chargepayLSK_TP: TStringField
      FieldName = 'LSK_TP'
      Size = 96
    end
    object OD_chargepayUSL_NAME_SHORT: TStringField
      FieldName = 'USL_NAME_SHORT'
      Size = 50
    end
    object OD_chargepaySUMMA2: TFloatField
      FieldName = 'SUMMA2'
    end
    object OD_chargepayPENYA2: TFloatField
      FieldName = 'PENYA2'
    end
  end
  object DS_chargepay: TDataSource
    DataSet = OD_chargepay
    Left = 72
    Top = 184
  end
  object OD_c_kwtp: TOracleDataSet
    SQL.Strings = (
      
        'select t.lsk, k.k_lsk_id, k.fio, t2.name||'#39', '#39'||s.name||'#39', '#39'||NV' +
        'L(LTRIM(k.nd,'#39'0'#39'),'#39'0'#39')||'#39'-'#39'||NVL(LTRIM(k.kw,'#39'0'#39'),'#39'0'#39') as adr,'
      
        '  scott.utils.get_sum_str_2(nvl(t.summa,0)+nvl(t.penya,0)) as su' +
        'mstr,'
      '  t.summa, t.oper, scott.init.get_fio() as fio_kass, '
      
        't.nink, t.nkom, t.dtek, t.nkvit, t.dat_ink, t.ts, t.id, t.iscorr' +
        'ect, '
      
        'k.phw,k.pgw,k.pel, k.k_fam||'#39' '#39'||substr(k.k_im,1,1)||'#39'. '#39'||subst' +
        'r(k.k_ot,1,1)||'#39'.'#39' as fio_owner,'
      
        'c.name as name_org, c.phone as phone, c.adr as adr_org, c.adr_ca' +
        'sh, '
      
        'c.inn, c.okpo, c.kpp, c2.name as name_org2, c2.inn as inn2, c2.p' +
        'hone as phone2, decode(tp2.cd,'#39'LSK_TP_MAIN'#39', 1, '#39'LSK_TP_ADDIT'#39', ' +
        '2) as dep,'
      'm.cash_num'
      
        'from scott.c_kwtp t, scott.kart k, scott.spul s, scott.t_org c, ' +
        'scott.t_org c2, scott.t_org t2, scott.t_org_tp tp, scott.v_lsk_t' +
        'p tp2, scott.c_comps m'
      
        'where t.id=:id and t.lsk=k.lsk and k.kul=s.id and c.id=scott.ini' +
        't.get_org_nkom and m.nkom=scott.init.get_nkom'
      'and k.reu=c2.reu'
      'and t2.fk_orgtp=tp.id and tp.cd='#39#1043#1086#1088#1086#1076#39
      'and k.fk_tp=tp2.id(+)'
      'order by t.nkvit')
    Optimize = False
    Variables.Data = {0300000001000000030000003A4944030000000400000053CE000000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000020000000030000004C534B0100000000000500000053554D4D410100
      00000000040000004F504552010000000000040000004E494E4B010000000000
      040000004E4B4F4D010000000000040000004454454B01000000000007000000
      4441545F494E4B010000000000050000004E4B56495401000000000002000000
      5453010000000000020000004944010000000000090000004953434F52524543
      540100000000000300000046494F010000000000030000004144520100000000
      000600000053554D5354520100000000000800000046494F5F4B415353010000
      00000003000000494E4E010000000000040000004F4B504F0100000000000800
      00004E414D455F4F5247010000000000070000004144525F4F52470100000000
      00030000004B5050010000000000030000005048570100000000000300000050
      47570100000000000300000050454C010000000000090000004E414D455F4F52
      473201000000000004000000494E4E320100000000000600000050484F4E4532
      0100000000000500000050484F4E450100000000000300000044455001000000
      00000900000046494F5F4F574E4552010000000000080000004B5F4C534B5F49
      4401000000000008000000434153485F4E554D01000000000008000000414452
      5F43415348010000000000}
    Session = DataModule1.OracleSession1
    Active = True
    Left = 216
    Top = 152
  end
  object DS_c_kwtp: TDataSource
    DataSet = OD_c_kwtp
    Left = 248
    Top = 152
  end
  object OD_c_kwtp_mg: TOracleDataSet
    SQL.Strings = (
      
        'select t.lsk, t.summa, t.penya, nvl(t.summa,0)+nvl(t.penya,0) as' +
        ' summ_itg, t.oper, o.naim, '
      'substr(t.dopl,1,4)||'#39'-'#39'||substr(t.dopl,5,2) as dopl, '
      
        'nvl(to_char(t.cnt_sch0),'#39#39') as cnt_sch0, nvl(to_char(t.cnt_sch),' +
        ' '#39#39') as cnt_sch,'
      't.nink, t.nkom, t.dtek, t.nkvit, t.dat_ink, t.ts, o.cash_oper_tp'
      'from '
      'scott.c_kwtp_mg t, scott.oper o'
      'where c_kwtp_id = :c_kwtp_id and t.oper=o.oper'
      'order by t.oper, t.dopl ')
    Optimize = False
    Variables.Data = {
      03000000010000000A0000003A435F4B5754505F494404000000000000000000
      0000}
    QBEDefinition.QBEFieldDefs = {
      0400000010000000030000004C534B0100000000000500000053554D4D410100
      000000000500000050454E5941010000000000040000004F5045520100000000
      0004000000444F504C010000000000040000004E494E4B010000000000040000
      004E4B4F4D010000000000040000004454454B01000000000007000000444154
      5F494E4B010000000000050000004E4B56495401000000000002000000545301
      0000000000040000004E41494D01000000000007000000434E545F5343480100
      0000000008000000434E545F534348300100000000000800000053554D4D5F49
      54470100000000000C000000434153485F4F5045525F5450010000000000}
    Master = OD_c_kwtp
    MasterFields = 'ID'
    DetailFields = 'C_KWTP_ID'
    Session = DataModule1.OracleSession1
    Left = 280
    Top = 152
    object OD_c_kwtp_mgLSK: TStringField
      FieldName = 'LSK'
      Required = True
      Size = 8
    end
    object OD_c_kwtp_mgSUMMA: TFloatField
      FieldName = 'SUMMA'
    end
    object OD_c_kwtp_mgPENYA: TFloatField
      FieldName = 'PENYA'
    end
    object OD_c_kwtp_mgSUMM_ITG: TFloatField
      FieldName = 'SUMM_ITG'
    end
    object OD_c_kwtp_mgOPER: TStringField
      FieldName = 'OPER'
      Required = True
      Size = 3
    end
    object OD_c_kwtp_mgNAIM: TStringField
      FieldName = 'NAIM'
      Size = 25
    end
    object OD_c_kwtp_mgDOPL: TStringField
      FieldName = 'DOPL'
      Size = 7
    end
    object OD_c_kwtp_mgCNT_SCH0: TStringField
      FieldName = 'CNT_SCH0'
      Size = 40
    end
    object OD_c_kwtp_mgCNT_SCH: TStringField
      FieldName = 'CNT_SCH'
      Size = 40
    end
    object OD_c_kwtp_mgNINK: TFloatField
      FieldName = 'NINK'
    end
    object OD_c_kwtp_mgNKOM: TStringField
      FieldName = 'NKOM'
      Required = True
      Size = 3
    end
    object OD_c_kwtp_mgDTEK: TDateTimeField
      FieldName = 'DTEK'
      Required = True
    end
    object OD_c_kwtp_mgNKVIT: TFloatField
      FieldName = 'NKVIT'
    end
    object OD_c_kwtp_mgDAT_INK: TDateTimeField
      FieldName = 'DAT_INK'
    end
    object OD_c_kwtp_mgTS: TDateTimeField
      FieldName = 'TS'
    end
    object OD_c_kwtp_mgCASH_OPER_TP: TFloatField
      FieldName = 'CASH_OPER_TP'
    end
  end
  object DS_c_kwtp_mg: TDataSource
    DataSet = OD_c_kwtp_mg
    Left = 312
    Top = 152
  end
  object OD_usl_chk: TOracleDataSet
    SQL.Strings = (
      
        'select r.oper, r.fk_usl_chk, u.cd, r.naim, nvl(r.iscounter,0) as' +
        ' iscounter'
      ' from scott.oper r, scott.usl u where r.fk_usl_chk=u.usl'
      ' and r.oper=:oper')
    Optimize = False
    Variables.Data = {
      0300000001000000050000003A4F504552050000000300000039320000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000005000000040000004F5045520100000000000A000000464B5F55534C
      5F43484B010000000000020000004344010000000000090000004953434F554E
      544552010000000000040000004E41494D010000000000}
    Session = DataModule1.OracleSession1
    Left = 112
    Top = 184
    object OD_usl_chkOPER: TStringField
      DisplayWidth = 3
      FieldName = 'OPER'
      Required = True
      Size = 3
    end
    object OD_usl_chkFK_USL_CHK: TStringField
      FieldName = 'FK_USL_CHK'
      Size = 3
    end
    object OD_usl_chkCD: TStringField
      FieldName = 'CD'
      Size = 32
    end
    object OD_usl_chkISCOUNTER: TFloatField
      FieldName = 'ISCOUNTER'
    end
    object OD_usl_chkNAIM: TStringField
      FieldName = 'NAIM'
      Size = 25
    end
  end
  object PopupMenu1: TPopupMenu
    Left = 400
    Top = 120
    object N1: TMenuItem
      Caption = #1059#1076#1072#1083#1080#1090#1100' '#1089#1090#1088#1086#1082#1091
      OnClick = N1Click
    end
  end
  object OD_kwtp_day: TOracleDataSet
    SQL.Strings = (
      'begin'
      '  -- Call the procedure'
      '  scott.c_get_pay.get_receipt_detail(p_kwtp_id => :p_kwtp_id,'
      '                               p_rfcur => :p_rfcur);'
      'end;')
    Optimize = False
    Variables.Data = {
      03000000020000000A0000003A505F4B5754505F494403000000000000000000
      0000080000003A505F5246435552740000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      04000000030000000500000053554D4D41010000000000040000004E414D4501
      000000000003000000444550010000000000}
    Master = OD_c_kwtp
    MasterFields = 'ID'
    DetailFields = 'P_KWTP_ID'
    Session = DataModule1.OracleSession1
    Left = 216
    Top = 200
  end
  object dsDS_kwtp_day: TDataSource
    DataSet = OD_kwtp_day
    Left = 248
    Top = 200
  end
  object OD_meter_vol: TOracleDataSet
    SQL.Strings = (
      
        'select t.id, u.nm2 as name, max(t.n1) as last_num, sum(x.n1) as ' +
        'vol from scott.METER t '
      '       join scott.usl u on t.fk_usl=u.usl'
      '       join scott.u_list s on s.cd='#39'ins_vol_sch'#39
      '       join scott.params p on 1=1'
      
        '       left join scott.t_objxpar x on t.k_lsk_id=x.fk_k_lsk and ' +
        's.id=x.fk_list and x.mg=p.period'
      '       where t.fk_klsk_obj=:p_klsk_id'
      '       group by t.id, u.nm2, u.npp'
      '       order by u.npp')
    Optimize = False
    Variables.Data = {
      03000000010000000A0000003A505F4B4C534B5F494405000000000000000000
      0000}
    QBEDefinition.QBEFieldDefs = {
      0400000004000000040000004E414D4501000000000002000000494401000000
      0000080000004C4153545F4E554D01000000000003000000564F4C0100000000
      00}
    Master = OD_c_kwtp
    MasterFields = 'K_LSK_ID'
    DetailFields = 'P_KLSK_ID'
    Session = DataModule1.OracleSession1
    Left = 280
    Top = 200
  end
  object dsDS_meter_vol: TDataSource
    DataSet = OD_meter_vol
    Left = 312
    Top = 200
  end
  object OD_get_money_nal2: TOracleDataSet
    SQL.Strings = (
      'begin'
      
        '  scott.c_get_pay.get_money_nal2(prep_refcursor => :prep_refcurs' +
        'or);'
      'end;')
    Optimize = False
    Variables.Data = {
      03000000010000000F0000003A505245505F524546435552534F527400000000
      00000000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000010000000030000004C534B0100000000000500000053554D4D410100
      000000000500000050454E5941010000000000040000004F5045520100000000
      0004000000444F504C010000000000040000004E494E4B010000000000040000
      004E4B4F4D010000000000040000004454454B01000000000007000000444154
      5F494E4B010000000000050000004E4B56495401000000000002000000545301
      0000000000040000004E41494D01000000000007000000434E545F5343480100
      0000000008000000434E545F534348300100000000000800000053554D4D5F49
      54470100000000000C000000434153485F4F5045525F5450010000000000}
    Session = DataModule1.OracleSession1
    Left = 280
    Top = 120
  end
  object OD_Kart: TOracleDataSet
    SQL.Strings = (
      
        'select k.lsk, k.reu, k.k_lsk_id, k.kul,k.nd,k.kw,k.house_id, nvl' +
        '(trim(t.name_reu)||'#39', '#39'||s.name||'#39', '#39'||ltrim(k.nd,'#39'0'#39')||'#39'-'#39'||ltr' +
        'im(k.kw,'#39'0'#39'),'
      '     '#39#1040#1076#1088#1077#1089' '#1085#1077' '#1085#1072#1081#1076#1077#1085'!'#39') as adr'
      '    from scott.kart k, scott.spul s, scott.s_reu_trest t'
      '      where k.reu=t.reu and k.kul=s.id and'
      '       k.lsk=:lsk')
    Optimize = False
    Variables.Data = {0300000001000000040000003A4C534B050000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000003000000030000004C534B0100000000000300000041445201000000
      0000080000004B5F4C534B5F4944010000000000}
    Session = DataModule1.OracleSession1
    DesignActivation = True
    Left = 40
    Top = 120
  end
end
